<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
	<script>
	  // Initialize Firebase
		var config = {
			apiKey: "AIzaSyA1jMtW-eFc8SM6ugiH0I8gIzG895CeoC8",
			authDomain: "portfolio-f2888.firebaseapp.com",
			databaseURL: "https://portfolio-f2888.firebaseio.com",
			projectId: "portfolio-f2888",
			storageBucket: "portfolio-f2888.appspot.com",
			messagingSenderId: "797356914133"
		};
		firebase.initializeApp(config);
		var db=firebase.database();
		var ref = firebase.database().ref('msgs');
		var data=new Array();
		ref.on("value", function(snapshot) {
			var snp=snapshot.val();
			snapshot.forEach(function (childSnapshopt) {
				var ck=childSnapshopt.key;
				//console.log(snp[ck]);
				data.push(snp[ck]);
			})
			//console.log(snapshot.val());
		}, function (error) {
			console.log("Error: " + error.code);
		});
		console.log(data);
		window.onload=load1;
		function load1() {
			console.log("Table Will Refreshed After 5 Seconds...So Hold Tight");
			setTimeout(function(){ 
				load();
			 }, 5000);
		}
		function load() {
			var arr, body, tab, tr, td, tn, row, col;
			tab = document.getElementById('dtTable');
			for (row = 0; row < data.length; row++){
				tr = document.createElement('tr');
				td = document.createElement('td');
				tn = document.createTextNode(data[row]['name']);
				td.appendChild(tn);
				tr.appendChild(td);
				td = document.createElement('td');
				tn = document.createTextNode(data[row]['email']);
				td.appendChild(tn);
				tr.appendChild(td);
				td = document.createElement('td');
				tn = document.createTextNode(data[row]['message']);
				td.appendChild(tn);
				tr.appendChild(td);
				tab.appendChild(tr);
				console.clear();
			}
		}
	</script>
</head>
<body>
<table id="dtTable" border="1px" cellspacing="0" width="100%">
	<thead>
		<th>Name</th>
		<th>Email</th>
		<th>Message</th>
	</thead>
</table>
</body>
</html>